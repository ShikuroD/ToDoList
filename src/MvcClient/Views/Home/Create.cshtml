@using Microsoft.AspNetCore.Http
@model TaskViewModel
@{
    Layout = null;

    if (Context.Session.GetInt32("id") == null)
        Context.Response.Redirect(Url.Action("Index", "Login", null));
}

<div class="modal-content">
    <div class="modal-body p-0">
        <div class="card bg-secondary border-0 mb-0">
            <div class="card-header bg-transparent ">
                <div class="text-muted text-center"><strong>
                        Công việc mới</strong>
                </div>
            </div>
            <div class="card-body">
                <form role="form" asp-action="Create">
                    <div class="pl-lg-4">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group" style="text-align:left">
                                    <label class="form-control-label" for="task-title">Tiêu đề</label>
                                    <input type="text" id="create-task-title" class="form-control " placeholder="">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group" style="text-align:left">
                                    <label class="form-control-label" for="task-registered-user">Người
                                        thực hiện chính</label>
                                    @if (!Context.Session.GetString("role").Equals("manager"))
                                    {
                                        <input id="create-task-registered-user" class="form-control " type='text' disabled
                                            style="background-color:#ffffff" value="@Model.Name">
                                    }
                                    else
                                    {
                                        <select class="form-control" id="create-task-registered-user"
                                            asp-items="@Model.Users">
                                        </select>
                                    }
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="form-group" style="text-align:left">
                                        <label class="form-control-label" for="create-task-describe">Mô tả chi tiết công
                                            việc</label>
                                        <textarea style="text-align:left" class="form-control " id="create-task-describe"
                                            rows="3"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group" style="text-align:left">
                                        <label class="form-control-label" for="create-task-status">Trạng thái</label>
                                        <input type="text" id="create-task-status" class="form-control " placeholder="Mới"
                                            value="0" disabled>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group" style="text-align:left">
                                        <label class="form-control-label" for="task-title">Chia sẻ</label>
                                        <select class="form-control" id="create-task-scope"
                                            asp-items="Html.GetEnumSelectList<Scope>()">

                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group" style="text-align:left">
                                        <label class="form-control-label" for="task-title">Ngày bắt đầu</label>
                                        @{
                                        DateTime d = DateTime.Now;
                                        string start_day = d.ToString("dd/MM/yyyy");
                                    }
                                    <input class="form-control  date-picker-format" style="background-color:#ffffff"
                                        value="@start_day" id="create-task-start-date" disabled>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group" style="text-align:left">
                                    <label class="form-control-label" for="task-title">Ngày kết thúc</label>
                                    <input class="form-control date-picker-format" style="background-color:#ffffff"
                                        id="create-task-end-date">
                                </div>
                            </div>



                        </div>
                        <div class="row">
                            <div class="col-lg-12" style="text-align: center;">
                                <div class="text-center">
                                    <button type="button" class="btn btn-primary my-4">Tạo công việc</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('.date-picker-format').datepicker({
            autoclose: true,
            format: 'dd/mm/yyyy',
            minDate: 0,
            startDate: new Date()

        });
    });
</script>